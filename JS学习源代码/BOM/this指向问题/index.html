<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script>
            window.addEventListener("DOMContentLoaded", function () {
                //this 指向问题，一般情况下this的最终指向的是那个调用它的对象
                //1、全局作用域或普通函数中this指向全局对象window
                console.log(this);

                function fn() {
                    console.log(this);
                }
                fn();
                window.setTimeout(function () {
                    console.log(this);
                }, 1000);

                //2、方法中调用谁调用this 就指向它本身
                var o = {
                    sayHi: function () {
                        console.log(this);
                    },
                };
                o.sayHi();

                var btn = document.querySelector("button");
                btn.addEventListener("click", function () {
                    console.log(this); //this，是指btn
                });

                //3、构造函数中this指向构造函数中的实例
                function Fun() {
                    console.log(this);
                }
                var fun = new Fun();
            });
        </script>
    </head>
    <body>
        <button>点击</button>
    </body>
</html>
